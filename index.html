<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="static/css/index.css">
</head>
<body>
    
       
   
 
    Ho generato un numero casuale... prova ad indovinarlo!

    <br />

    Hai ancora 5 tentativi

    <form action="" method="get">
        <h1 class="titolo" >Indovina il numero</h1>
        <ul class="list-group list-group-numbered">
            <li class="list-group-item">Il computer sceglierà segretamente un numero intero casuale tra 1 e 100.</li>
            <li class="list-group-item">Il tuo obiettivo è indovinare questo numero segreto nel minor numero di tentativi possibile.</li>
            <li class="list-group-item">Ad ogni tentativo, inserisci un numero e il computer ti darà un indizio</li>
            <li class="list-group-item">A fourth item</li>
            <li class="list-group-item">And a fifth one</li>    
          </ul>
        <input id="userGuess" type="number" name="user_guess" value="100"/>
        <input id="button" type="button" name="guess" value="Indovina">


    </form>
    </div>
    <script type="text/javascript">
         let number
         let i = 0; 
         let indovinato = false;
        let min = 1
        let max = 100
        let imax=5
        let random =0
        random=generateRandomInteger(min,max)
        let button =document.querySelector("#button")
        button.addEventListener("click",function(event){
            if (i >= imax) {
                console.log("Tentativi esauriti, il numero corretto era "+random)
            }

            number = document.querySelector("#userGuess").value
            number = parseInt(number)
            i += 1
            if (number < min || number > max || isNaN(number)){
                console.log("Errore inserimento")
                
            }
            
        if(number === random){
        console.log("Hai indovinato!");
        
    }
    else {
        if(number < random){
            console.log("Numero troppo piccolo, riprova")
        }
        else{ 
            if (number > random){
            console.log("Numero troppo grande, riprova")
        }
        }}})
        function sanitize(n) {
            let num = number
            return num.trim()
        }

        function generateRandomInteger(min, max) {
            let n=0
        n = Math.random(min,max)
        n=n*(max-min)  
        n = parseInt(n)+min
        console.log(n)
        return n
        }

      

       /* while (i < 5 && !indovinato) {
            let risposta = prompt("Inserisci un numero da 1 a 100");
            risposta = sanitize(risposta);
            
            if (risposta < random) {
                console.log("Troppo piccolo");
            } else if (risposta > random) {
                console.log("Troppo grande");
            } else {
                console.log("Hai vinto!");
                indovinato = true; 
            }
            i++;
        }

        if (i === 5 && !indovinato) {
            console.log("Hai finito i tentativi. Il numero era: " + random);
        }
        */
    </script>
</body>
</html>
